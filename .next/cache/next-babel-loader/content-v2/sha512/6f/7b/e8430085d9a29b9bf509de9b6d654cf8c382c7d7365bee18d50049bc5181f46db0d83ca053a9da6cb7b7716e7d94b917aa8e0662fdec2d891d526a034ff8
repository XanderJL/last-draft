{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/alexander/github/XanderJL/last-draft/pages/stories/index.js\";\nimport { Box, Text } from \"@chakra-ui/react\";\n\nconst Stories = ({\n  data\n}) => {\n  const {\n    blog,\n    posts,\n    latestPosts,\n    featuredPosts\n  } = data;\n  const {\n    title,\n    categories,\n    heroImage,\n    _rawPublication\n  } = blog;\n  const pubBody = _rawPublication.body;\n\n  const SectionRenderer = props => {\n    const {\n      style = \"normal\"\n    } = props.node;\n\n    if (/^h\\d/.test(style)) {\n      return React.createElement(style, {\n        className: `title is-montserrat is-uppercase has-text-black is-size-4-mobile`\n      }, props.children);\n    }\n\n    if (style === \"blockquote\") {\n      return /*#__PURE__*/_jsxDEV(\"blockquote\", {\n        children: [\"- \", props.children]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 14\n      }, this);\n    } // Fall back to default handling\n\n\n    return PortableText.defaultSerializers.types.block(props);\n  };\n\n  const BlockImageRenderer = props => {\n    return /*#__PURE__*/_jsxDEV(Box, {\n      maxW: \"264px\",\n      maxH: \"auto\",\n      children: /*#__PURE__*/_jsxDEV(SanityImage, {\n        image: props.node.image.asset,\n        options: {\n          maxWidth: 800,\n          maxHeight: 600\n        },\n        layout: \"fixed\",\n        style: {\n          maxWidth: \"inherit\",\n          maxHeight: \"inherit\"\n        },\n        imgStyle: {\n          maxWidth: \"inherit\",\n          maxHeight: \"inherit\"\n        },\n        objectFit: \"contain\",\n        alt: props.node.alt\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }, this);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    title: title,\n    children: [/*#__PURE__*/_jsxDEV(Hero, {\n      image: getGatsbyImageData(heroImage.asset, {\n        maxWidth: 1440\n      }, sanityConfig),\n      styles: imageHotspot(heroImage.hotspot),\n      size: \"large\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      style: {\n        maxWidth: \"1216px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(BlogTabs, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        as: \"section\",\n        p: {\n          base: \"1.25rem\",\n          md: \"2rem 1.25rem 3rem 1.25rem\"\n        },\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          css: css`\n              img {\n                margin-bottom: 1rem;\n                max-height: 128px;\n              }\n              p {\n                margin-bottom: 1rem;\n              }\n            `,\n          children: /*#__PURE__*/_jsxDEV(PortableText, {\n            blocks: pubBody,\n            serializers: {\n              types: {\n                block: SectionRenderer,\n                blockImage: BlockImageRenderer\n              }\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        id: \"recent\",\n        className: \"section-category\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"title is-size-3-desktop is-size-4-mobile is-montserrat is-uppercase has-text-black\",\n          style: {\n            marginBottom: \"0\"\n          },\n          children: \"Recent\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n          style: {\n            margin: \"0.75rem 0\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"wrapper-post\",\n          style: {\n            padding: \"2rem 0\"\n          },\n          children: latestPosts.edges.map(({\n            node: post\n          }) => {\n            const {\n              id,\n              title,\n              mainImage,\n              _rawBody,\n              previewCopy,\n              category,\n              slug\n            } = post;\n            const image = mainImage.asset;\n            const link = category.parentCategory ? `/stories/${category.parentCategory.slug.current}/${category.slug.current}/${slug.current}` : `/stories/${category.slug.current}/${slug.current}`;\n            return /*#__PURE__*/_jsxDEV(PostCard, {\n              title: title,\n              image: image,\n              link: link,\n              children: previewCopy ? previewCopy : toPlainText(_rawBody).slice(0, 159) + \"...\"\n            }, id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 17\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        id: \"featured\",\n        className: \"section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"title is-size-3-desktop is-size-4-mobile is-montserrat is-uppercase has-text-black\",\n          style: {\n            marginBottom: \"0\"\n          },\n          children: \"Featured\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n          style: {\n            margin: \"0.75rem 0\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"wrapper-post\",\n          style: {\n            padding: \"2rem 0\"\n          },\n          children: featuredPosts.featuredPosts.map(post => {\n            const {\n              id,\n              title,\n              mainImage,\n              _rawBody,\n              previewCopy,\n              category,\n              slug\n            } = post;\n            const image = mainImage.asset;\n            const link = category.parentCategory ? `/stories/${category.parentCategory.slug.current}/${category.slug.current}/${slug.current}` : `/stories/${category.slug.current}/${slug.current}`;\n            return /*#__PURE__*/_jsxDEV(PostCard, {\n              title: title,\n              image: image,\n              link: link,\n              cardStyle: {\n                maxWidth: \"420px\"\n              },\n              children: previewCopy ? previewCopy : toPlainText(_rawBody).slice(0, 159) + \"...\"\n            }, id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 17\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this), categories.map(category => {\n        const {\n          id,\n          slug,\n          title,\n          description\n        } = category;\n        const link = `/stories/${slug.current}`;\n        return /*#__PURE__*/_jsxDEV(\"section\", {\n          id: slug.current,\n          className: \"section-category\",\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            to: \"/stories/\" + slug.current,\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"title is-size-2-desktop is-size-4-mobile is-montserrat is-uppercase has-text-black\",\n              children: title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 15\n          }, this), description && /*#__PURE__*/_jsxDEV(Text, {\n            maxW: \"75ch\",\n            children: description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 31\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"wrapper-post\",\n            style: {\n              padding: \"2rem 0\"\n            },\n            children: posts.edges.filter(({\n              node: post\n            }) => post.category.slug.current === slug.current).slice(0, 3).map(({\n              node: post\n            }) => {\n              const {\n                id,\n                title,\n                mainImage,\n                _rawBody,\n                previewCopy,\n                category,\n                slug\n              } = post;\n              const image = mainImage.asset;\n              const link = `/stories/${category.slug.current}/${slug.current}`;\n              return /*#__PURE__*/_jsxDEV(PostCard, {\n                title: title,\n                image: image,\n                link: link,\n                cardStyle: {\n                  maxWidth: \"420px\"\n                },\n                children: previewCopy ? previewCopy : toPlainText(_rawBody).slice(0, 159) + \"...\"\n              }, id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 194,\n                columnNumber: 23\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: link,\n            className: \"button is-size-5\",\n            children: \"More Articles \\u203A\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 15\n          }, this)]\n        }, id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 13\n        }, this);\n      }), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"section\",\n        children: /*#__PURE__*/_jsxDEV(SubmitForm, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(OptInModal, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n};\n\nexport const data = graphql`\n  {\n    blog: sanityBlog {\n      title\n      slug {\n        current\n      }\n      heroImage {\n        asset {\n          _id\n          url\n        }\n        hotspot {\n          x\n          y\n        }\n      }\n      _rawPublication\n      categories {\n        id\n        slug {\n          current\n        }\n        title\n        description\n      }\n    }\n    posts: allSanityPost(sort: { fields: publishedAt, order: DESC }) {\n      edges {\n        node {\n          id\n          publishedAt\n          slug {\n            current\n          }\n          title\n          mainImage {\n            asset {\n              _id\n              url\n            }\n            hotspot {\n              x\n              y\n            }\n          }\n          previewCopy\n          _rawBody\n          category {\n            slug {\n              current\n            }\n            parentCategory {\n              slug {\n                current\n              }\n            }\n          }\n        }\n      }\n    }\n    latestPosts: allSanityPost(\n      limit: 3\n      sort: { fields: publishedAt, order: DESC }\n    ) {\n      edges {\n        node {\n          id\n          slug {\n            current\n          }\n          title\n          mainImage {\n            asset {\n              _id\n              url\n            }\n            hotspot {\n              x\n              y\n            }\n          }\n          _rawBody\n          category {\n            slug {\n              current\n            }\n            parentCategory {\n              slug {\n                current\n              }\n            }\n          }\n        }\n      }\n    }\n    featuredPosts: sanityBlog {\n      featuredPosts {\n        id\n        title\n        slug {\n          current\n        }\n        category {\n          slug {\n            current\n          }\n          title\n        }\n        _rawBody\n        mainImage {\n          asset {\n            _id\n            url\n          }\n          hotspot {\n            x\n            y\n          }\n        }\n      }\n    }\n  }\n`;\nexport default Stories;","map":{"version":3,"sources":["/home/alexander/github/XanderJL/last-draft/pages/stories/index.js"],"names":["Box","Text","Stories","data","blog","posts","latestPosts","featuredPosts","title","categories","heroImage","_rawPublication","pubBody","body","SectionRenderer","props","style","node","test","React","createElement","className","children","PortableText","defaultSerializers","types","block","BlockImageRenderer","image","asset","maxWidth","maxHeight","alt","getGatsbyImageData","sanityConfig","imageHotspot","hotspot","base","md","css","blockImage","marginBottom","margin","padding","edges","map","post","id","mainImage","_rawBody","previewCopy","category","slug","link","parentCategory","current","toPlainText","slice","description","filter","graphql"],"mappings":"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AX,CAAsBQ,KAAtB,CAA4B,CAA5B,EAA+B,GAA/B,IAAsC;AAT5C,iBACOV,EADP;AAAA;AAAA;AAAA;AAAA,sBADF;AAaD,aA/BF;AADH;AAAA;AAAA;AAAA;AAAA,kBARF,eA0CE,QAAC,IAAD;AAAM,YAAA,EAAE,EAAEM,IAAV;AAAgB,YAAA,SAAS,EAAC,kBAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBA1CF;AAAA,WAAcN,EAAd;AAAA;AAAA;AAAA;AAAA,gBADF;AAgDD,OApDA,CApGH,eAyJE;AAAS,QAAA,SAAS,EAAC,SAAnB;AAAA,+BACE,QAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cAzJF;AAAA;AAAA;AAAA;AAAA;AAAA,YAVF,eAuKE,QAAC,UAAD;AAAA;AAAA;AAAA;AAAA,YAvKF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AA2KD,CA1ND;;AA4NA,OAAO,MAAM5C,IAAI,GAAGyD,OAAQ;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CA3HO;AA6HP,eAAe1D,OAAf","sourcesContent":["import { Box, Text } from \"@chakra-ui/react\"\n\nconst Stories = ({ data }) => {\n  const { blog, posts, latestPosts, featuredPosts } = data\n  const { title, categories, heroImage, _rawPublication } = blog\n  const pubBody = _rawPublication.body\n\n  const SectionRenderer = (props) => {\n    const { style = \"normal\" } = props.node\n\n    if (/^h\\d/.test(style)) {\n      return React.createElement(\n        style,\n        {\n          className: `title is-montserrat is-uppercase has-text-black is-size-4-mobile`,\n        },\n        props.children\n      )\n    }\n\n    if (style === \"blockquote\") {\n      return <blockquote>- {props.children}</blockquote>\n    }\n\n    // Fall back to default handling\n    return PortableText.defaultSerializers.types.block(props)\n  }\n  const BlockImageRenderer = (props) => {\n    return (\n      <Box maxW=\"264px\" maxH=\"auto\">\n        <SanityImage\n          image={props.node.image.asset}\n          options={{ maxWidth: 800, maxHeight: 600 }}\n          layout=\"fixed\"\n          style={{\n            maxWidth: \"inherit\",\n            maxHeight: \"inherit\",\n          }}\n          imgStyle={{\n            maxWidth: \"inherit\",\n            maxHeight: \"inherit\",\n          }}\n          objectFit=\"contain\"\n          alt={props.node.alt}\n        />\n      </Box>\n    )\n  }\n\n  return (\n    <Layout title={title}>\n      <Hero\n        image={getGatsbyImageData(\n          heroImage.asset,\n          { maxWidth: 1440 },\n          sanityConfig\n        )}\n        styles={imageHotspot(heroImage.hotspot)}\n        size=\"large\"\n      />\n      <div className=\"container\" style={{ maxWidth: \"1216px\" }}>\n        <BlogTabs />\n        <Box\n          as=\"section\"\n          p={{ base: \"1.25rem\", md: \"2rem 1.25rem 3rem 1.25rem\" }}\n        >\n          <Box\n            css={css`\n              img {\n                margin-bottom: 1rem;\n                max-height: 128px;\n              }\n              p {\n                margin-bottom: 1rem;\n              }\n            `}\n          >\n            <PortableText\n              blocks={pubBody}\n              serializers={{\n                types: {\n                  block: SectionRenderer,\n                  blockImage: BlockImageRenderer,\n                },\n              }}\n            />\n          </Box>\n        </Box>\n        <section id=\"recent\" className=\"section-category\">\n          <h2\n            className=\"title is-size-3-desktop is-size-4-mobile is-montserrat is-uppercase has-text-black\"\n            style={{ marginBottom: \"0\" }}\n          >\n            Recent\n          </h2>\n          <hr style={{ margin: \"0.75rem 0\" }} />\n          <div className=\"wrapper-post\" style={{ padding: \"2rem 0\" }}>\n            {latestPosts.edges.map(({ node: post }) => {\n              const {\n                id,\n                title,\n                mainImage,\n                _rawBody,\n                previewCopy,\n                category,\n                slug,\n              } = post\n              const image = mainImage.asset\n              const link = category.parentCategory\n                ? `/stories/${category.parentCategory.slug.current}/${category.slug.current}/${slug.current}`\n                : `/stories/${category.slug.current}/${slug.current}`\n              return (\n                <PostCard key={id} title={title} image={image} link={link}>\n                  {previewCopy\n                    ? previewCopy\n                    : toPlainText(_rawBody).slice(0, 159) + \"...\"}\n                </PostCard>\n              )\n            })}\n          </div>\n        </section>\n        <section id=\"featured\" className=\"section\">\n          <h2\n            className=\"title is-size-3-desktop is-size-4-mobile is-montserrat is-uppercase has-text-black\"\n            style={{ marginBottom: \"0\" }}\n          >\n            Featured\n          </h2>\n          <hr style={{ margin: \"0.75rem 0\" }} />\n          <div className=\"wrapper-post\" style={{ padding: \"2rem 0\" }}>\n            {featuredPosts.featuredPosts.map((post) => {\n              const {\n                id,\n                title,\n                mainImage,\n                _rawBody,\n                previewCopy,\n                category,\n                slug,\n              } = post\n              const image = mainImage.asset\n              const link = category.parentCategory\n                ? `/stories/${category.parentCategory.slug.current}/${category.slug.current}/${slug.current}`\n                : `/stories/${category.slug.current}/${slug.current}`\n              return (\n                <PostCard\n                  key={id}\n                  title={title}\n                  image={image}\n                  link={link}\n                  cardStyle={{ maxWidth: \"420px\" }}\n                >\n                  {previewCopy\n                    ? previewCopy\n                    : toPlainText(_rawBody).slice(0, 159) + \"...\"}\n                </PostCard>\n              )\n            })}\n          </div>\n        </section>\n        {categories.map((category) => {\n          const { id, slug, title, description } = category\n          const link = `/stories/${slug.current}`\n\n          return (\n            <section key={id} id={slug.current} className=\"section-category\">\n              <Link to={\"/stories/\" + slug.current}>\n                <h2 className=\"title is-size-2-desktop is-size-4-mobile is-montserrat is-uppercase has-text-black\">\n                  {title}\n                </h2>\n                <hr />\n              </Link>\n              {description && <Text maxW=\"75ch\">{description}</Text>}\n              <div className=\"wrapper-post\" style={{ padding: \"2rem 0\" }}>\n                {posts.edges\n                  .filter(\n                    ({ node: post }) =>\n                      post.category.slug.current === slug.current\n                  )\n                  .slice(0, 3)\n                  .map(({ node: post }) => {\n                    const {\n                      id,\n                      title,\n                      mainImage,\n                      _rawBody,\n                      previewCopy,\n                      category,\n                      slug,\n                    } = post\n                    const image = mainImage.asset\n                    const link = `/stories/${category.slug.current}/${slug.current}`\n                    return (\n                      <PostCard\n                        key={id}\n                        title={title}\n                        image={image}\n                        link={link}\n                        cardStyle={{ maxWidth: \"420px\" }}\n                      >\n                        {previewCopy\n                          ? previewCopy\n                          : toPlainText(_rawBody).slice(0, 159) + \"...\"}\n                      </PostCard>\n                    )\n                  })}\n              </div>\n              <Link to={link} className=\"button is-size-5\">\n                More Articles &rsaquo;\n              </Link>\n            </section>\n          )\n        })}\n        <section className=\"section\">\n          <SubmitForm />\n        </section>\n      </div>\n      <OptInModal />\n    </Layout>\n  )\n}\n\nexport const data = graphql`\n  {\n    blog: sanityBlog {\n      title\n      slug {\n        current\n      }\n      heroImage {\n        asset {\n          _id\n          url\n        }\n        hotspot {\n          x\n          y\n        }\n      }\n      _rawPublication\n      categories {\n        id\n        slug {\n          current\n        }\n        title\n        description\n      }\n    }\n    posts: allSanityPost(sort: { fields: publishedAt, order: DESC }) {\n      edges {\n        node {\n          id\n          publishedAt\n          slug {\n            current\n          }\n          title\n          mainImage {\n            asset {\n              _id\n              url\n            }\n            hotspot {\n              x\n              y\n            }\n          }\n          previewCopy\n          _rawBody\n          category {\n            slug {\n              current\n            }\n            parentCategory {\n              slug {\n                current\n              }\n            }\n          }\n        }\n      }\n    }\n    latestPosts: allSanityPost(\n      limit: 3\n      sort: { fields: publishedAt, order: DESC }\n    ) {\n      edges {\n        node {\n          id\n          slug {\n            current\n          }\n          title\n          mainImage {\n            asset {\n              _id\n              url\n            }\n            hotspot {\n              x\n              y\n            }\n          }\n          _rawBody\n          category {\n            slug {\n              current\n            }\n            parentCategory {\n              slug {\n                current\n              }\n            }\n          }\n        }\n      }\n    }\n    featuredPosts: sanityBlog {\n      featuredPosts {\n        id\n        title\n        slug {\n          current\n        }\n        category {\n          slug {\n            current\n          }\n          title\n        }\n        _rawBody\n        mainImage {\n          asset {\n            _id\n            url\n          }\n          hotspot {\n            x\n            y\n          }\n        }\n      }\n    }\n  }\n`\n\nexport default Stories\n"]},"metadata":{},"sourceType":"module"}