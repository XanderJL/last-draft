{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/alexander/github/XanderJL/last-draft/pages/stories/authors/[slug].js\",\n    _this = this;\n\nimport { Container, Heading } from \"@chakra-ui/react\";\nimport AuthorBio from \"@components/AuthorBio\";\nimport Layout from \"@components/Layout\";\nimport Section from \"@components/Layout/Section\";\nimport Link from \"@components/Link\";\n\nvar Author = function Author(_ref) {\n  var authorData = _ref.authorData;\n  var _id = authorData._id,\n      name = authorData.name,\n      bio = authorData.bio,\n      slug = authorData.slug,\n      image = authorData.image,\n      posts = authorData.posts;\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      maxW: \"70ch\",\n      children: [/*#__PURE__*/_jsxDEV(Section, {\n        children: /*#__PURE__*/_jsxDEV(AuthorBio, {\n          name: name,\n          image: image,\n          slug: slug,\n          bio: bio\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 15,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 14,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(Section, {\n        children: [/*#__PURE__*/_jsxDEV(Heading, {\n          as: \"h3\",\n          textTransform: \"uppercase\",\n          children: \"Latest Stories\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 18,\n          columnNumber: 11\n        }, _this), posts.map(function (post) {\n          var _id = post._id,\n              author = post.author,\n              publishedAt = post.publishedAt,\n              mainImage = post.mainImage,\n              title = post.title,\n              body = post.body,\n              category = post.category,\n              postSlug = post.slug;\n          var authorLink = \"/stories/authors/\".concat(slug);\n          var categoryLink = \"/stories/\".concat(category.slug);\n          var postLink = categoryLink + \"/\".concat(postSlug);\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card-header-icon\",\n                children: /*#__PURE__*/_jsxDEV(Link, {\n                  href: authorLink,\n                  className: \"\",\n                  children: image && /*#__PURE__*/_jsxDEV(SanityImage, {\n                    className: \"avatar\",\n                    image: author.image.asset,\n                    options: {\n                      width: 50,\n                      height: 50\n                    },\n                    imgStyle: {\n                      width: \"100%\",\n                      height: \"auto\"\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 42,\n                    columnNumber: 25\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 40,\n                  columnNumber: 21\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 39,\n                columnNumber: 19\n              }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card-header-title\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"is-montserrat is-size-5\",\n                  children: [/*#__PURE__*/_jsxDEV(Link, {\n                    to: authorLink,\n                    children: author.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 53,\n                    columnNumber: 23\n                  }, _this), \" in\", \" \", /*#__PURE__*/_jsxDEV(Link, {\n                    to: categoryLink,\n                    children: [category.title, \" \"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 54,\n                    columnNumber: 23\n                  }, _this), \" \"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 52,\n                  columnNumber: 21\n                }, _this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"is-montserrat has-text-grey\",\n                  children: _createdAt\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 56,\n                  columnNumber: 21\n                }, _this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 51,\n                columnNumber: 19\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 38,\n              columnNumber: 17\n            }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-image\",\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                to: postLink,\n                children: /*#__PURE__*/_jsxDEV(SanityImage, {\n                  className: \"image\",\n                  image: mainImage.asset,\n                  options: {\n                    maxWidth: 1600,\n                    maxHeight: 900\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 63,\n                  columnNumber: 21\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 62,\n                columnNumber: 19\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 17\n            }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-content\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"content\",\n                children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                  className: \"title is-montserrat is-uppercase is-size-4-mobile\",\n                  children: title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 72,\n                  columnNumber: 21\n                }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: toPlainText(_rawBody).slice(0, 119) + \"...\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 75,\n                  columnNumber: 21\n                }, _this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 71,\n                columnNumber: 19\n              }, _this), /*#__PURE__*/_jsxDEV(Link, {\n                to: postLink,\n                className: \"button is-montserrat\",\n                children: \"Read \\u203A\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 77,\n                columnNumber: 19\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 17\n            }, _this)]\n          }, _id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 37,\n            columnNumber: 15\n          }, _this);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 17,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 7\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 12,\n    columnNumber: 5\n  }, _this);\n};\n\n_c = Author;\nexport var __N_SSG = true;\nexport default Author;\n\nvar _c;\n\n$RefreshReg$(_c, \"Author\");","map":{"version":3,"sources":["/home/alexander/github/XanderJL/last-draft/pages/stories/authors/[slug].js"],"names":["Container","Heading","AuthorBio","Layout","Section","Link","Author","authorData","_id","name","bio","slug","image","posts","map","post","author","publishedAt","mainImage","title","body","category","postSlug","authorLink","categoryLink","postLink","asset","width","height","_createdAt","maxWidth","maxHeight","toPlainText","_rawBody","slice"],"mappings":"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","sourcesContent":["import { Container, Heading } from \"@chakra-ui/react\"\nimport AuthorBio from \"@components/AuthorBio\"\nimport Layout from \"@components/Layout\"\nimport Section from \"@components/Layout/Section\"\nimport Link from \"@components/Link\"\nimport { getClient } from \"@lib/sanity/sanity.server\"\nimport { groq } from \"next-sanity\"\n\nconst Author = ({ authorData }) => {\n  const { _id, name, bio, slug, image, posts } = authorData\n  return (\n    <Layout>\n      <Container maxW=\"70ch\">\n        <Section>\n          <AuthorBio name={name} image={image} slug={slug} bio={bio} />\n        </Section>\n        <Section>\n          <Heading as=\"h3\" textTransform=\"uppercase\">\n            Latest Stories\n          </Heading>\n          {posts.map((post) => {\n            const {\n              _id,\n              author,\n              publishedAt,\n              mainImage,\n              title,\n              body,\n              category,\n              slug: postSlug,\n            } = post\n            const authorLink = `/stories/authors/${slug}`\n            const categoryLink = `/stories/${category.slug}`\n            const postLink = categoryLink + `/${postSlug}`\n\n            return (\n              <div key={_id} className=\"card\">\n                <div className=\"card-header\">\n                  <div className=\"card-header-icon\">\n                    <Link href={authorLink} className=\"\">\n                      {image && (\n                        <SanityImage\n                          className=\"avatar\"\n                          image={author.image.asset}\n                          options={{ width: 50, height: 50 }}\n                          imgStyle={{ width: \"100%\", height: \"auto\" }}\n                        />\n                      )}\n                    </Link>\n                  </div>\n                  <div className=\"card-header-title\">\n                    <h3 className=\"is-montserrat is-size-5\">\n                      <Link to={authorLink}>{author.name}</Link> in{\" \"}\n                      <Link to={categoryLink}>{category.title} </Link>{\" \"}\n                    </h3>\n                    <h3 className=\"is-montserrat has-text-grey\">\n                      {_createdAt}\n                    </h3>\n                  </div>\n                </div>\n                <div className=\"card-image\">\n                  <Link to={postLink}>\n                    <SanityImage\n                      className=\"image\"\n                      image={mainImage.asset}\n                      options={{ maxWidth: 1600, maxHeight: 900 }}\n                    />\n                  </Link>\n                </div>\n                <div className=\"card-content\">\n                  <div className=\"content\">\n                    <h2 className=\"title is-montserrat is-uppercase is-size-4-mobile\">\n                      {title}\n                    </h2>\n                    <p>{toPlainText(_rawBody).slice(0, 119) + \"...\"}</p>\n                  </div>\n                  <Link to={postLink} className=\"button is-montserrat\">\n                    Read &rsaquo;\n                  </Link>\n                </div>\n              </div>\n            )\n          })}\n        </Section>\n      </Container>\n    </Layout>\n  )\n}\n\nconst singleAuthorQuery = groq`\n  *[_type == \"author\" && slug.current == $slug]{\n    _id,\n    name,\n    bio,\n    \"slug\": slug.current,\n    \"image\": image.asset->{\n      metadata,\n      url\n    },\n    \"posts\": *[_type == \"post\" && references(^._id)]{\n      _id,\n      publishedAt,\n      title,\n      body,\n      \"slug\": slug.current,\n      \"mainImage\": mainImage.asset->{\n        metadata,\n        url\n      },\n      category->{\n        title,\n        \"slug\": slug.current\n      }\n    }\n  }[0]\n`\n\nexport const getStaticPaths = async () => {\n  const authors = await getClient().fetch(\n    groq`*[_type == \"author\"]{ \"slug\": slug.current }`\n  )\n  const paths = authors.map((author) => ({ params: { slug: author.slug } }))\n\n  return { paths, fallback: false }\n}\n\nexport const getStaticProps = async ({ params }) => {\n  const authorData = await getClient().fetch(singleAuthorQuery, {\n    slug: params.slug,\n  })\n\n  return { props: { authorData } }\n}\n\nexport default Author\n"]},"metadata":{},"sourceType":"module"}