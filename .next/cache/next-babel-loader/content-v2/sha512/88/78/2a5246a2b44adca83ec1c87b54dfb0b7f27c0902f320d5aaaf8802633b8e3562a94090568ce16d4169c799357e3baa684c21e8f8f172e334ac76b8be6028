{"ast":null,"code":"import _taggedTemplateLiteral from \"/home/alexander/github/XanderJL/last-draft/node_modules/next/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/alexander/github/XanderJL/last-draft/pages/stories/index.js\",\n    _this = this;\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  {\\n    blog: sanityBlog {\\n      title\\n      slug {\\n        current\\n      }\\n      heroImage {\\n        asset {\\n          _id\\n          url\\n        }\\n        hotspot {\\n          x\\n          y\\n        }\\n      }\\n      _rawPublication\\n      categories {\\n        id\\n        slug {\\n          current\\n        }\\n        title\\n        description\\n      }\\n    }\\n    posts: allSanityPost(sort: { fields: publishedAt, order: DESC }) {\\n      edges {\\n        node {\\n          id\\n          publishedAt\\n          slug {\\n            current\\n          }\\n          title\\n          mainImage {\\n            asset {\\n              _id\\n              url\\n            }\\n            hotspot {\\n              x\\n              y\\n            }\\n          }\\n          previewCopy\\n          _rawBody\\n          category {\\n            slug {\\n              current\\n            }\\n            parentCategory {\\n              slug {\\n                current\\n              }\\n            }\\n          }\\n        }\\n      }\\n    }\\n    latestPosts: allSanityPost(\\n      limit: 3\\n      sort: { fields: publishedAt, order: DESC }\\n    ) {\\n      edges {\\n        node {\\n          id\\n          slug {\\n            current\\n          }\\n          title\\n          mainImage {\\n            asset {\\n              _id\\n              url\\n            }\\n            hotspot {\\n              x\\n              y\\n            }\\n          }\\n          _rawBody\\n          category {\\n            slug {\\n              current\\n            }\\n            parentCategory {\\n              slug {\\n                current\\n              }\\n            }\\n          }\\n        }\\n      }\\n    }\\n    featuredPosts: sanityBlog {\\n      featuredPosts {\\n        id\\n        title\\n        slug {\\n          current\\n        }\\n        category {\\n          slug {\\n            current\\n          }\\n          title\\n        }\\n        _rawBody\\n        mainImage {\\n          asset {\\n            _id\\n            url\\n          }\\n          hotspot {\\n            x\\n            y\\n          }\\n        }\\n      }\\n    }\\n  }\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n              img {\\n                margin-bottom: 1rem;\\n                max-height: 128px;\\n              }\\n              p {\\n                margin-bottom: 1rem;\\n              }\\n            \"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport { Box, Text } from \"@chakra-ui/react\";\n\nvar Stories = function Stories(_ref) {\n  var data = _ref.data;\n  var blog = data.blog,\n      posts = data.posts,\n      latestPosts = data.latestPosts,\n      featuredPosts = data.featuredPosts;\n  var title = blog.title,\n      categories = blog.categories,\n      heroImage = blog.heroImage,\n      _rawPublication = blog._rawPublication;\n  var pubBody = _rawPublication.body;\n\n  var SectionRenderer = function SectionRenderer(props) {\n    var _props$node$style = props.node.style,\n        style = _props$node$style === void 0 ? \"normal\" : _props$node$style;\n\n    if (/^h\\d/.test(style)) {\n      return React.createElement(style, {\n        className: \"title is-montserrat is-uppercase has-text-black is-size-4-mobile\"\n      }, props.children);\n    }\n\n    if (style === \"blockquote\") {\n      return /*#__PURE__*/_jsxDEV(\"blockquote\", {\n        children: [\"- \", props.children]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 14\n      }, _this);\n    } // Fall back to default handling\n\n\n    return PortableText.defaultSerializers.types.block(props);\n  };\n\n  var BlockImageRenderer = function BlockImageRenderer(props) {\n    return /*#__PURE__*/_jsxDEV(Box, {\n      maxW: \"264px\",\n      maxH: \"auto\",\n      children: /*#__PURE__*/_jsxDEV(SanityImage, {\n        image: props.node.image.asset,\n        options: {\n          maxWidth: 800,\n          maxHeight: 600\n        },\n        layout: \"fixed\",\n        style: {\n          maxWidth: \"inherit\",\n          maxHeight: \"inherit\"\n        },\n        imgStyle: {\n          maxWidth: \"inherit\",\n          maxHeight: \"inherit\"\n        },\n        objectFit: \"contain\",\n        alt: props.node.alt\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 9\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }, _this);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    title: title,\n    children: [/*#__PURE__*/_jsxDEV(Hero, {\n      image: getGatsbyImageData(heroImage.asset, {\n        maxWidth: 1440\n      }, sanityConfig),\n      styles: imageHotspot(heroImage.hotspot),\n      size: \"large\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      style: {\n        maxWidth: \"1216px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(BlogTabs, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(Box, {\n        as: \"section\",\n        p: {\n          base: \"1.25rem\",\n          md: \"2rem 1.25rem 3rem 1.25rem\"\n        },\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          css: css(_templateObject()),\n          children: /*#__PURE__*/_jsxDEV(PortableText, {\n            blocks: pubBody,\n            serializers: {\n              types: {\n                block: SectionRenderer,\n                blockImage: BlockImageRenderer\n              }\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(\"section\", {\n        id: \"recent\",\n        className: \"section-category\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"title is-size-3-desktop is-size-4-mobile is-montserrat is-uppercase has-text-black\",\n          style: {\n            marginBottom: \"0\"\n          },\n          children: \"Recent\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(\"hr\", {\n          style: {\n            margin: \"0.75rem 0\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"wrapper-post\",\n          style: {\n            padding: \"2rem 0\"\n          },\n          children: latestPosts.edges.map(function (_ref2) {\n            var post = _ref2.node;\n            var id = post.id,\n                title = post.title,\n                mainImage = post.mainImage,\n                _rawBody = post._rawBody,\n                previewCopy = post.previewCopy,\n                category = post.category,\n                slug = post.slug;\n            var image = mainImage.asset;\n            var link = category.parentCategory ? \"/stories/\".concat(category.parentCategory.slug.current, \"/\").concat(category.slug.current, \"/\").concat(slug.current) : \"/stories/\".concat(category.slug.current, \"/\").concat(slug.current);\n            return /*#__PURE__*/_jsxDEV(PostCard, {\n              title: title,\n              image: image,\n              link: link,\n              children: previewCopy ? previewCopy : toPlainText(_rawBody).slice(0, 159) + \"...\"\n            }, id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 17\n            }, _this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(\"section\", {\n        id: \"featured\",\n        className: \"section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"title is-size-3-desktop is-size-4-mobile is-montserrat is-uppercase has-text-black\",\n          style: {\n            marginBottom: \"0\"\n          },\n          children: \"Featured\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(\"hr\", {\n          style: {\n            margin: \"0.75rem 0\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"wrapper-post\",\n          style: {\n            padding: \"2rem 0\"\n          },\n          children: featuredPosts.featuredPosts.map(function (post) {\n            var id = post.id,\n                title = post.title,\n                mainImage = post.mainImage,\n                _rawBody = post._rawBody,\n                previewCopy = post.previewCopy,\n                category = post.category,\n                slug = post.slug;\n            var image = mainImage.asset;\n            var link = category.parentCategory ? \"/stories/\".concat(category.parentCategory.slug.current, \"/\").concat(category.slug.current, \"/\").concat(slug.current) : \"/stories/\".concat(category.slug.current, \"/\").concat(slug.current);\n            return /*#__PURE__*/_jsxDEV(PostCard, {\n              title: title,\n              image: image,\n              link: link,\n              cardStyle: {\n                maxWidth: \"420px\"\n              },\n              children: previewCopy ? previewCopy : toPlainText(_rawBody).slice(0, 159) + \"...\"\n            }, id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 17\n            }, _this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, _this), categories.map(function (category) {\n        var id = category.id,\n            slug = category.slug,\n            title = category.title,\n            description = category.description;\n        var link = \"/stories/\".concat(slug.current);\n        return /*#__PURE__*/_jsxDEV(\"section\", {\n          id: slug.current,\n          className: \"section-category\",\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            to: \"/stories/\" + slug.current,\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"title is-size-2-desktop is-size-4-mobile is-montserrat is-uppercase has-text-black\",\n              children: title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 17\n            }, _this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 17\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 15\n          }, _this), description && /*#__PURE__*/_jsxDEV(Text, {\n            maxW: \"75ch\",\n            children: description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 31\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"wrapper-post\",\n            style: {\n              padding: \"2rem 0\"\n            },\n            children: posts.edges.filter(function (_ref3) {\n              var post = _ref3.node;\n              return post.category.slug.current === slug.current;\n            }).slice(0, 3).map(function (_ref4) {\n              var post = _ref4.node;\n              var id = post.id,\n                  title = post.title,\n                  mainImage = post.mainImage,\n                  _rawBody = post._rawBody,\n                  previewCopy = post.previewCopy,\n                  category = post.category,\n                  slug = post.slug;\n              var image = mainImage.asset;\n              var link = \"/stories/\".concat(category.slug.current, \"/\").concat(slug.current);\n              return /*#__PURE__*/_jsxDEV(PostCard, {\n                title: title,\n                image: image,\n                link: link,\n                cardStyle: {\n                  maxWidth: \"420px\"\n                },\n                children: previewCopy ? previewCopy : toPlainText(_rawBody).slice(0, 159) + \"...\"\n              }, id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 194,\n                columnNumber: 23\n              }, _this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 15\n          }, _this), /*#__PURE__*/_jsxDEV(Link, {\n            to: link,\n            className: \"button is-size-5\",\n            children: \"More Articles \\u203A\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 15\n          }, _this)]\n        }, id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 13\n        }, _this);\n      }), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"section\",\n        children: /*#__PURE__*/_jsxDEV(SubmitForm, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(OptInModal, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 7\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, _this);\n};\n\n_c = Stories;\nexport var data = graphql(_templateObject2());\nexport default Stories;\n\nvar _c;\n\n$RefreshReg$(_c, \"Stories\");","map":{"version":3,"sources":["/home/alexander/github/XanderJL/last-draft/pages/stories/index.js"],"names":["Box","Text","Stories","data","blog","posts","latestPosts","featuredPosts","title","categories","heroImage","_rawPublication","pubBody","body","SectionRenderer","props","node","style","test","React","createElement","className","children","PortableText","defaultSerializers","types","block","BlockImageRenderer","image","asset","maxWidth","maxHeight","alt","getGatsbyImageData","sanityConfig","imageHotspot","hotspot","base","md","css","blockImage","marginBottom","margin","padding","edges","map","post","id","mainImage","_rawBody","previewCopy","category","slug","link","parentCategory","current","toPlainText","slice","description","filter","graphql"],"mappings":"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","sourcesContent":["import { Box, Text } from \"@chakra-ui/react\"\n\nconst Stories = ({ data }) => {\n  const { blog, posts, latestPosts, featuredPosts } = data\n  const { title, categories, heroImage, _rawPublication } = blog\n  const pubBody = _rawPublication.body\n\n  const SectionRenderer = (props) => {\n    const { style = \"normal\" } = props.node\n\n    if (/^h\\d/.test(style)) {\n      return React.createElement(\n        style,\n        {\n          className: `title is-montserrat is-uppercase has-text-black is-size-4-mobile`,\n        },\n        props.children\n      )\n    }\n\n    if (style === \"blockquote\") {\n      return <blockquote>- {props.children}</blockquote>\n    }\n\n    // Fall back to default handling\n    return PortableText.defaultSerializers.types.block(props)\n  }\n  const BlockImageRenderer = (props) => {\n    return (\n      <Box maxW=\"264px\" maxH=\"auto\">\n        <SanityImage\n          image={props.node.image.asset}\n          options={{ maxWidth: 800, maxHeight: 600 }}\n          layout=\"fixed\"\n          style={{\n            maxWidth: \"inherit\",\n            maxHeight: \"inherit\",\n          }}\n          imgStyle={{\n            maxWidth: \"inherit\",\n            maxHeight: \"inherit\",\n          }}\n          objectFit=\"contain\"\n          alt={props.node.alt}\n        />\n      </Box>\n    )\n  }\n\n  return (\n    <Layout title={title}>\n      <Hero\n        image={getGatsbyImageData(\n          heroImage.asset,\n          { maxWidth: 1440 },\n          sanityConfig\n        )}\n        styles={imageHotspot(heroImage.hotspot)}\n        size=\"large\"\n      />\n      <div className=\"container\" style={{ maxWidth: \"1216px\" }}>\n        <BlogTabs />\n        <Box\n          as=\"section\"\n          p={{ base: \"1.25rem\", md: \"2rem 1.25rem 3rem 1.25rem\" }}\n        >\n          <Box\n            css={css`\n              img {\n                margin-bottom: 1rem;\n                max-height: 128px;\n              }\n              p {\n                margin-bottom: 1rem;\n              }\n            `}\n          >\n            <PortableText\n              blocks={pubBody}\n              serializers={{\n                types: {\n                  block: SectionRenderer,\n                  blockImage: BlockImageRenderer,\n                },\n              }}\n            />\n          </Box>\n        </Box>\n        <section id=\"recent\" className=\"section-category\">\n          <h2\n            className=\"title is-size-3-desktop is-size-4-mobile is-montserrat is-uppercase has-text-black\"\n            style={{ marginBottom: \"0\" }}\n          >\n            Recent\n          </h2>\n          <hr style={{ margin: \"0.75rem 0\" }} />\n          <div className=\"wrapper-post\" style={{ padding: \"2rem 0\" }}>\n            {latestPosts.edges.map(({ node: post }) => {\n              const {\n                id,\n                title,\n                mainImage,\n                _rawBody,\n                previewCopy,\n                category,\n                slug,\n              } = post\n              const image = mainImage.asset\n              const link = category.parentCategory\n                ? `/stories/${category.parentCategory.slug.current}/${category.slug.current}/${slug.current}`\n                : `/stories/${category.slug.current}/${slug.current}`\n              return (\n                <PostCard key={id} title={title} image={image} link={link}>\n                  {previewCopy\n                    ? previewCopy\n                    : toPlainText(_rawBody).slice(0, 159) + \"...\"}\n                </PostCard>\n              )\n            })}\n          </div>\n        </section>\n        <section id=\"featured\" className=\"section\">\n          <h2\n            className=\"title is-size-3-desktop is-size-4-mobile is-montserrat is-uppercase has-text-black\"\n            style={{ marginBottom: \"0\" }}\n          >\n            Featured\n          </h2>\n          <hr style={{ margin: \"0.75rem 0\" }} />\n          <div className=\"wrapper-post\" style={{ padding: \"2rem 0\" }}>\n            {featuredPosts.featuredPosts.map((post) => {\n              const {\n                id,\n                title,\n                mainImage,\n                _rawBody,\n                previewCopy,\n                category,\n                slug,\n              } = post\n              const image = mainImage.asset\n              const link = category.parentCategory\n                ? `/stories/${category.parentCategory.slug.current}/${category.slug.current}/${slug.current}`\n                : `/stories/${category.slug.current}/${slug.current}`\n              return (\n                <PostCard\n                  key={id}\n                  title={title}\n                  image={image}\n                  link={link}\n                  cardStyle={{ maxWidth: \"420px\" }}\n                >\n                  {previewCopy\n                    ? previewCopy\n                    : toPlainText(_rawBody).slice(0, 159) + \"...\"}\n                </PostCard>\n              )\n            })}\n          </div>\n        </section>\n        {categories.map((category) => {\n          const { id, slug, title, description } = category\n          const link = `/stories/${slug.current}`\n\n          return (\n            <section key={id} id={slug.current} className=\"section-category\">\n              <Link to={\"/stories/\" + slug.current}>\n                <h2 className=\"title is-size-2-desktop is-size-4-mobile is-montserrat is-uppercase has-text-black\">\n                  {title}\n                </h2>\n                <hr />\n              </Link>\n              {description && <Text maxW=\"75ch\">{description}</Text>}\n              <div className=\"wrapper-post\" style={{ padding: \"2rem 0\" }}>\n                {posts.edges\n                  .filter(\n                    ({ node: post }) =>\n                      post.category.slug.current === slug.current\n                  )\n                  .slice(0, 3)\n                  .map(({ node: post }) => {\n                    const {\n                      id,\n                      title,\n                      mainImage,\n                      _rawBody,\n                      previewCopy,\n                      category,\n                      slug,\n                    } = post\n                    const image = mainImage.asset\n                    const link = `/stories/${category.slug.current}/${slug.current}`\n                    return (\n                      <PostCard\n                        key={id}\n                        title={title}\n                        image={image}\n                        link={link}\n                        cardStyle={{ maxWidth: \"420px\" }}\n                      >\n                        {previewCopy\n                          ? previewCopy\n                          : toPlainText(_rawBody).slice(0, 159) + \"...\"}\n                      </PostCard>\n                    )\n                  })}\n              </div>\n              <Link to={link} className=\"button is-size-5\">\n                More Articles &rsaquo;\n              </Link>\n            </section>\n          )\n        })}\n        <section className=\"section\">\n          <SubmitForm />\n        </section>\n      </div>\n      <OptInModal />\n    </Layout>\n  )\n}\n\nexport const data = graphql`\n  {\n    blog: sanityBlog {\n      title\n      slug {\n        current\n      }\n      heroImage {\n        asset {\n          _id\n          url\n        }\n        hotspot {\n          x\n          y\n        }\n      }\n      _rawPublication\n      categories {\n        id\n        slug {\n          current\n        }\n        title\n        description\n      }\n    }\n    posts: allSanityPost(sort: { fields: publishedAt, order: DESC }) {\n      edges {\n        node {\n          id\n          publishedAt\n          slug {\n            current\n          }\n          title\n          mainImage {\n            asset {\n              _id\n              url\n            }\n            hotspot {\n              x\n              y\n            }\n          }\n          previewCopy\n          _rawBody\n          category {\n            slug {\n              current\n            }\n            parentCategory {\n              slug {\n                current\n              }\n            }\n          }\n        }\n      }\n    }\n    latestPosts: allSanityPost(\n      limit: 3\n      sort: { fields: publishedAt, order: DESC }\n    ) {\n      edges {\n        node {\n          id\n          slug {\n            current\n          }\n          title\n          mainImage {\n            asset {\n              _id\n              url\n            }\n            hotspot {\n              x\n              y\n            }\n          }\n          _rawBody\n          category {\n            slug {\n              current\n            }\n            parentCategory {\n              slug {\n                current\n              }\n            }\n          }\n        }\n      }\n    }\n    featuredPosts: sanityBlog {\n      featuredPosts {\n        id\n        title\n        slug {\n          current\n        }\n        category {\n          slug {\n            current\n          }\n          title\n        }\n        _rawBody\n        mainImage {\n          asset {\n            _id\n            url\n          }\n          hotspot {\n            x\n            y\n          }\n        }\n      }\n    }\n  }\n`\n\nexport default Stories\n"]},"metadata":{},"sourceType":"module"}