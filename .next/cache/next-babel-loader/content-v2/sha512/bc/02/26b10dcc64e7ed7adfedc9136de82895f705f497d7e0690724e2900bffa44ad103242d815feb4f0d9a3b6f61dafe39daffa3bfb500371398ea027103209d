{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/alexander/github/XanderJL/last-draft/pages/stories/[category]/[post].js\";\nimport { Container, Heading } from \"@chakra-ui/layout\";\nimport Hero from \"@components/Hero\";\nimport Layout from \"@components/Layout\";\nimport Section from \"@components/Layout/Section\";\nimport Link from \"@components/Link\";\nimport { getClient } from \"@lib/sanity/sanity.server\";\nimport { groq } from \"next-sanity\";\n\nconst Post = ({\n  postData\n}) => {\n  var _mainImage$metadata;\n\n  const {\n    title,\n    author,\n    publishedAt,\n    tags,\n    mainImage,\n    mainAlt,\n    mainCaption,\n    body\n  } = postData;\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    children: [/*#__PURE__*/_jsxDEV(Hero, {\n      placeholder: mainImage === null || mainImage === void 0 ? void 0 : (_mainImage$metadata = mainImage.metadata) === null || _mainImage$metadata === void 0 ? void 0 : _mainImage$metadata.lqip,\n      image: mainImage === null || mainImage === void 0 ? void 0 : mainImage.url,\n      minH: \"36em\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      maxW: \"container.md\",\n      children: /*#__PURE__*/_jsxDEV(Section, {\n        textAlign: \"center\",\n        children: [/*#__PURE__*/_jsxDEV(Heading, {\n          textTransform: \"uppercase\",\n          children: title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          href: `/stories/authors/${author.slug}`,\n          children: author.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 22,\n    columnNumber: 5\n  }, this);\n};\n\nconst postQuery = groq`\n  *[_type == \"post\" && slug.current == $post]{\n    _id,\n    title,\n    author->{\n      \"slug\": slug.current,\n      name,\n      \"image\": image.asset->{\n        metadata,\n        url\n      },\n      bio\n    },\n    tags,\n    title,\n    publishedAt,\n    \"mainImage\": mainImage.asset->{\n      metadata,\n      url\n    },\n    mainAlt,\n    mainCaption,\n    body\n  }[0]\n`;\nexport const getStaticPaths = async () => {\n  const posts = await getClient().fetch(groq`\n    *[_type == \"post\"]{\n      \"slug\": slug.current,\n      category->{\n        \"slug\": slug.current\n      }\n    }\n  `);\n  const paths = posts.map(post => ({\n    params: {\n      category: post.category.slug,\n      post: post.slug\n    }\n  }));\n  return {\n    paths,\n    fallback: false\n  };\n};\nexport const getStaticProps = async ({\n  params\n}) => {\n  const postData = await getClient().fetch(postQuery, {\n    post: params.post\n  });\n  return {\n    props: {\n      postData\n    }\n  };\n};\nexport default Post;","map":{"version":3,"sources":["/home/alexander/github/XanderJL/last-draft/pages/stories/[category]/[post].js"],"names":["Container","Heading","Hero","Layout","Section","Link","getClient","groq","Post","postData","title","author","publishedAt","tags","mainImage","mainAlt","mainCaption","body","metadata","lqip","url","slug","name","postQuery","getStaticPaths","posts","fetch","paths","map","post","params","category","fallback","getStaticProps","props"],"mappings":";;AAAA,SAASA,SAAT,EAAoBC,OAApB,QAAmC,mBAAnC;AACA,OAAOC,IAAP,MAAiB,kBAAjB;AACA,OAAOC,MAAP,MAAmB,oBAAnB;AACA,OAAOC,OAAP,MAAoB,4BAApB;AACA,OAAOC,IAAP,MAAiB,kBAAjB;AACA,SAASC,SAAT,QAA0B,2BAA1B;AACA,SAASC,IAAT,QAAqB,aAArB;;AAEA,MAAMC,IAAI,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAkB;AAAA;;AAC7B,QAAM;AACJC,IAAAA,KADI;AAEJC,IAAAA,MAFI;AAGJC,IAAAA,WAHI;AAIJC,IAAAA,IAJI;AAKJC,IAAAA,SALI;AAMJC,IAAAA,OANI;AAOJC,IAAAA,WAPI;AAQJC,IAAAA;AARI,MASFR,QATJ;AAWA,sBACE,QAAC,MAAD;AAAA,4BACE,QAAC,IAAD;AACE,MAAA,WAAW,EAAEK,SAAF,aAAEA,SAAF,8CAAEA,SAAS,CAAEI,QAAb,wDAAE,oBAAqBC,IADpC;AAEE,MAAA,KAAK,EAAEL,SAAF,aAAEA,SAAF,uBAAEA,SAAS,CAAEM,GAFpB;AAGE,MAAA,IAAI,EAAC;AAHP;AAAA;AAAA;AAAA;AAAA,YADF,eAME,QAAC,SAAD;AAAW,MAAA,IAAI,EAAC,cAAhB;AAAA,6BACE,QAAC,OAAD;AAAS,QAAA,SAAS,EAAC,QAAnB;AAAA,gCACE,QAAC,OAAD;AAAS,UAAA,aAAa,EAAC,WAAvB;AAAA,oBAAoCV;AAApC;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE,QAAC,IAAD;AAAM,UAAA,IAAI,EAAG,oBAAmBC,MAAM,CAACU,IAAK,EAA5C;AAAA,oBAAgDV,MAAM,CAACW;AAAvD;AAAA;AAAA;AAAA;AAAA,gBAFF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YANF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAeD,CA3BD;;AA6BA,MAAMC,SAAS,GAAGhB,IAAK;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAxBA;AA0BA,OAAO,MAAMiB,cAAc,GAAG,YAAY;AACxC,QAAMC,KAAK,GAAG,MAAMnB,SAAS,GAAGoB,KAAZ,CAAkBnB,IAAK;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA,GAPsB,CAApB;AAQA,QAAMoB,KAAK,GAAGF,KAAK,CAACG,GAAN,CAAWC,IAAD,KAAW;AACjCC,IAAAA,MAAM,EAAE;AAAEC,MAAAA,QAAQ,EAAEF,IAAI,CAACE,QAAL,CAAcV,IAA1B;AAAgCQ,MAAAA,IAAI,EAAEA,IAAI,CAACR;AAA3C;AADyB,GAAX,CAAV,CAAd;AAIA,SAAO;AAAEM,IAAAA,KAAF;AAASK,IAAAA,QAAQ,EAAE;AAAnB,GAAP;AACD,CAdM;AAgBP,OAAO,MAAMC,cAAc,GAAG,OAAO;AAAEH,EAAAA;AAAF,CAAP,KAAsB;AAClD,QAAMrB,QAAQ,GAAG,MAAMH,SAAS,GAAGoB,KAAZ,CAAkBH,SAAlB,EAA6B;AAClDM,IAAAA,IAAI,EAAEC,MAAM,CAACD;AADqC,GAA7B,CAAvB;AAIA,SAAO;AAAEK,IAAAA,KAAK,EAAE;AAAEzB,MAAAA;AAAF;AAAT,GAAP;AACD,CANM;AAQP,eAAeD,IAAf","sourcesContent":["import { Container, Heading } from \"@chakra-ui/layout\"\nimport Hero from \"@components/Hero\"\nimport Layout from \"@components/Layout\"\nimport Section from \"@components/Layout/Section\"\nimport Link from \"@components/Link\"\nimport { getClient } from \"@lib/sanity/sanity.server\"\nimport { groq } from \"next-sanity\"\n\nconst Post = ({ postData }) => {\n  const {\n    title,\n    author,\n    publishedAt,\n    tags,\n    mainImage,\n    mainAlt,\n    mainCaption,\n    body,\n  } = postData\n\n  return (\n    <Layout>\n      <Hero\n        placeholder={mainImage?.metadata?.lqip}\n        image={mainImage?.url}\n        minH=\"36em\"\n      />\n      <Container maxW=\"container.md\">\n        <Section textAlign=\"center\">\n          <Heading textTransform=\"uppercase\">{title}</Heading>\n          <Link href={`/stories/authors/${author.slug}`}>{author.name}</Link>\n        </Section>\n      </Container>\n    </Layout>\n  )\n}\n\nconst postQuery = groq`\n  *[_type == \"post\" && slug.current == $post]{\n    _id,\n    title,\n    author->{\n      \"slug\": slug.current,\n      name,\n      \"image\": image.asset->{\n        metadata,\n        url\n      },\n      bio\n    },\n    tags,\n    title,\n    publishedAt,\n    \"mainImage\": mainImage.asset->{\n      metadata,\n      url\n    },\n    mainAlt,\n    mainCaption,\n    body\n  }[0]\n`\n\nexport const getStaticPaths = async () => {\n  const posts = await getClient().fetch(groq`\n    *[_type == \"post\"]{\n      \"slug\": slug.current,\n      category->{\n        \"slug\": slug.current\n      }\n    }\n  `)\n  const paths = posts.map((post) => ({\n    params: { category: post.category.slug, post: post.slug },\n  }))\n\n  return { paths, fallback: false }\n}\n\nexport const getStaticProps = async ({ params }) => {\n  const postData = await getClient().fetch(postQuery, {\n    post: params.post,\n  })\n\n  return { props: { postData } }\n}\n\nexport default Post\n"]},"metadata":{},"sourceType":"module"}