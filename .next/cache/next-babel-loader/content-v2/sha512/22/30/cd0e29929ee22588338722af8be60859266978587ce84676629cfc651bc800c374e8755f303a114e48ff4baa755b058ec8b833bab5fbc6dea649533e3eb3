{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/alexander/github/XanderJL/last-draft/pages/stories/[category]/[post].js\",\n    _this = this;\n\nimport { Heading } from \"@chakra-ui/layout\";\nimport Hero from \"@components/Hero\";\nimport Layout from \"@components/Layout\";\n\nvar Post = function Post(_ref) {\n  var _mainImage$metadata;\n\n  var postData = _ref.postData;\n  var title = postData.title,\n      author = postData.author,\n      publishedAt = postData.publishedAt,\n      tags = postData.tags,\n      mainImage = postData.mainImage,\n      mainAlt = postData.mainAlt,\n      mainCaption = postData.mainCaption,\n      body = postData.body;\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    children: /*#__PURE__*/_jsxDEV(Hero, {\n      placeholder: mainImage === null || mainImage === void 0 ? void 0 : (_mainImage$metadata = mainImage.metadata) === null || _mainImage$metadata === void 0 ? void 0 : _mainImage$metadata.lqip\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 7\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 20,\n    columnNumber: 5\n  }, _this);\n};\n\n_c = Post;\nexport var __N_SSG = true;\nexport default Post;\n\nvar _c;\n\n$RefreshReg$(_c, \"Post\");","map":{"version":3,"sources":["/home/alexander/github/XanderJL/last-draft/pages/stories/[category]/[post].js"],"names":["Heading","Hero","Layout","Post","postData","title","author","publishedAt","tags","mainImage","mainAlt","mainCaption","body","metadata","lqip"],"mappings":";;;;;AAAA,SAASA,OAAT,QAAwB,mBAAxB;AACA,OAAOC,IAAP,MAAiB,kBAAjB;AACA,OAAOC,MAAP,MAAmB,oBAAnB;;AAIA,IAAMC,IAAI,GAAG,SAAPA,IAAO,OAAkB;AAAA;;AAAA,MAAfC,QAAe,QAAfA,QAAe;AAAA,MAE3BC,KAF2B,GAUzBD,QAVyB,CAE3BC,KAF2B;AAAA,MAG3BC,MAH2B,GAUzBF,QAVyB,CAG3BE,MAH2B;AAAA,MAI3BC,WAJ2B,GAUzBH,QAVyB,CAI3BG,WAJ2B;AAAA,MAK3BC,IAL2B,GAUzBJ,QAVyB,CAK3BI,IAL2B;AAAA,MAM3BC,SAN2B,GAUzBL,QAVyB,CAM3BK,SAN2B;AAAA,MAO3BC,OAP2B,GAUzBN,QAVyB,CAO3BM,OAP2B;AAAA,MAQ3BC,WAR2B,GAUzBP,QAVyB,CAQ3BO,WAR2B;AAAA,MAS3BC,IAT2B,GAUzBR,QAVyB,CAS3BQ,IAT2B;AAY7B,sBACE,QAAC,MAAD;AAAA,2BACE,QAAC,IAAD;AAAM,MAAA,WAAW,EAAEH,SAAF,aAAEA,SAAF,8CAAEA,SAAS,CAAEI,QAAb,wDAAE,oBAAqBC;AAAxC;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,WADF;AAKD,CAjBD;;KAAMX,I;;AAqEN,eAAeA,IAAf","sourcesContent":["import { Heading } from \"@chakra-ui/layout\"\nimport Hero from \"@components/Hero\"\nimport Layout from \"@components/Layout\"\nimport { getClient } from \"@lib/sanity/sanity.server\"\nimport { groq } from \"next-sanity\"\n\nconst Post = ({ postData }) => {\n  const {\n    title,\n    author,\n    publishedAt,\n    tags,\n    mainImage,\n    mainAlt,\n    mainCaption,\n    body,\n  } = postData\n\n  return (\n    <Layout>\n      <Hero placeholder={mainImage?.metadata?.lqip} />\n    </Layout>\n  )\n}\n\nconst postQuery = groq`\n  *[_type == \"post\" && slug.current == $post]{\n    _id,\n    title,\n    author->{\n      \"slug\": slug.current,\n      name,\n      \"image\": image.asset->{\n        metadata,\n        url\n      },\n      bio\n    },\n    tags,\n    title,\n    publishedAt,\n    \"mainImage\": mainImage.asset->{\n      metadata,\n      url\n    },\n    mainAlt,\n    mainCaption,\n    body\n  }[0]\n`\n\nexport const getStaticPaths = async () => {\n  const posts = await getClient().fetch(groq`\n    *[_type == \"post\"]{\n      \"slug\": slug.current,\n      category->{\n        \"slug\": slug.current\n      }\n    }\n  `)\n  const paths = posts.map((post) => ({\n    params: { category: post.category.slug, post: post.slug },\n  }))\n\n  return { paths, fallback: false }\n}\n\nexport const getStaticProps = async ({ params }) => {\n  const postData = await getClient().fetch(postQuery, {\n    post: params.post,\n  })\n\n  return { props: { postData } }\n}\n\nexport default Post\n"]},"metadata":{},"sourceType":"module"}