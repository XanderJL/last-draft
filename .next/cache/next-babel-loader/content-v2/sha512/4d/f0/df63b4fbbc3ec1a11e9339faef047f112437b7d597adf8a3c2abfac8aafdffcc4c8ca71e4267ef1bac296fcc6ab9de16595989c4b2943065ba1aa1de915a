{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/alexander/github/XanderJL/last-draft/pages/stories/authors/[slug].js\",\n    _this = this;\n\nimport { Box, Container, Flex, Grid, Heading, Image, Stack } from \"@chakra-ui/react\";\nimport AuthorBio from \"@components/AuthorBio\";\nimport Layout from \"@components/Layout\";\nimport Section from \"@components/Layout/Section\";\nimport Link from \"@components/Link\";\nimport toPlainText from \"util/toPlainText\";\n\nvar Author = function Author(_ref) {\n  var authorData = _ref.authorData;\n  var _id = authorData._id,\n      name = authorData.name,\n      bio = authorData.bio,\n      slug = authorData.slug,\n      image = authorData.image,\n      posts = authorData.posts;\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      maxW: \"container.md\",\n      children: [/*#__PURE__*/_jsxDEV(Section, {\n        children: /*#__PURE__*/_jsxDEV(AuthorBio, {\n          name: name,\n          image: image,\n          slug: slug,\n          bio: bio\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 24,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(Section, {\n        children: [/*#__PURE__*/_jsxDEV(Heading, {\n          as: \"h2\",\n          size: \"xl\",\n          textTransform: \"uppercase\",\n          pb: \"2rem\",\n          children: \"Latest Stories\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 27,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(Stack, {\n          spacing: 8,\n          children: posts.map(function (post) {\n            var _image$metadata;\n\n            var _id = post._id,\n                publishedAt = post.publishedAt,\n                mainImage = post.mainImage,\n                title = post.title,\n                body = post.body,\n                category = post.category,\n                postSlug = post.slug;\n            var authorLink = \"/stories/authors/\".concat(slug);\n            var categoryLink = \"/stories/\".concat(category.slug);\n            var postLink = categoryLink + \"/\".concat(postSlug);\n            return /*#__PURE__*/_jsxDEV(Box, {\n              boxShadow: \"lg\",\n              border: \"1px solid\",\n              borderColor: \"gray.50\",\n              borderRadius: 4,\n              children: [/*#__PURE__*/_jsxDEV(Stack, {\n                direction: \"row\",\n                p: \"1rem\",\n                children: [/*#__PURE__*/_jsxDEV(Link, {\n                  href: authorLink,\n                  children: image && /*#__PURE__*/_jsxDEV(Image, {\n                    boxSize: 50,\n                    src: image === null || image === void 0 ? void 0 : image.url,\n                    objectFit: \"cover\",\n                    objectPosition: \"center\",\n                    bgImage: image === null || image === void 0 ? void 0 : (_image$metadata = image.metadata) === null || _image$metadata === void 0 ? void 0 : _image$metadata.lqip,\n                    bgSize: \"cover\",\n                    bgPosition: \"center\",\n                    bgRepeat: \"no-repeat\",\n                    borderRadius: \"full\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 55,\n                    columnNumber: 25\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 53,\n                  columnNumber: 21\n                }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"card-header-title\",\n                  children: [/*#__PURE__*/_jsxDEV(Heading, {\n                    as: \"h3\",\n                    size: \"md\",\n                    textTransform: \"uppercase\",\n                    letterSpacing: 0,\n                    children: [/*#__PURE__*/_jsxDEV(Link, {\n                      href: authorLink,\n                      children: name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 75,\n                      columnNumber: 25\n                    }, _this), \" in\", \" \", /*#__PURE__*/_jsxDEV(Link, {\n                      href: categoryLink,\n                      children: [category.title, \" \"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 76,\n                      columnNumber: 25\n                    }, _this), \" \"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 69,\n                    columnNumber: 23\n                  }, _this), /*#__PURE__*/_jsxDEV(Heading, {\n                    as: \"h3\",\n                    size: \"md\",\n                    letterSpacing: 0,\n                    children: new Date(publishedAt).toLocaleString(\"en-US\", {\n                      month: \"long\",\n                      day: \"numeric\",\n                      year: \"numeric\"\n                    })\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 78,\n                    columnNumber: 23\n                  }, _this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 68,\n                  columnNumber: 21\n                }, _this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 52,\n                columnNumber: 19\n              }, _this), /*#__PURE__*/_jsxDEV(Link, {\n                href: postLink,\n                children: /*#__PURE__*/_jsxDEV(Image, {\n                  src: mainImage === null || mainImage === void 0 ? void 0 : mainImage.url,\n                  options: {\n                    maxWidth: 1600,\n                    maxHeight: 900\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 88,\n                  columnNumber: 21\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 19\n              }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card-content\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"content\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                    className: \"title is-montserrat is-uppercase is-size-4-mobile\",\n                    children: title\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 95,\n                    columnNumber: 23\n                  }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: toPlainText(body).slice(0, 119) + \"...\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 98,\n                    columnNumber: 23\n                  }, _this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 94,\n                  columnNumber: 21\n                }, _this), /*#__PURE__*/_jsxDEV(Link, {\n                  href: postLink,\n                  className: \"button is-montserrat\",\n                  children: \"Read \\u203A\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 100,\n                  columnNumber: 21\n                }, _this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 19\n              }, _this)]\n            }, _id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 45,\n              columnNumber: 17\n            }, _this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 7\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 21,\n    columnNumber: 5\n  }, _this);\n};\n\n_c = Author;\nexport var __N_SSG = true;\nexport default Author;\n\nvar _c;\n\n$RefreshReg$(_c, \"Author\");","map":{"version":3,"sources":["/home/alexander/github/XanderJL/last-draft/pages/stories/authors/[slug].js"],"names":["Box","Container","Flex","Grid","Heading","Image","Stack","AuthorBio","Layout","Section","Link","toPlainText","Author","authorData","_id","name","bio","slug","image","posts","map","post","publishedAt","mainImage","title","body","category","postSlug","authorLink","categoryLink","postLink","url","metadata","lqip","Date","toLocaleString","month","day","year","maxWidth","maxHeight","slice"],"mappings":";;;;;AAAA,SACEA,GADF,EAEEC,SAFF,EAGEC,IAHF,EAIEC,IAJF,EAKEC,OALF,EAMEC,KANF,EAOEC,KAPF,QAQO,kBARP;AASA,OAAOC,SAAP,MAAsB,uBAAtB;AACA,OAAOC,MAAP,MAAmB,oBAAnB;AACA,OAAOC,OAAP,MAAoB,4BAApB;AACA,OAAOC,IAAP,MAAiB,kBAAjB;AAGA,OAAOC,WAAP,MAAwB,kBAAxB;;AAEA,IAAMC,MAAM,GAAG,SAATA,MAAS,OAAoB;AAAA,MAAjBC,UAAiB,QAAjBA,UAAiB;AAAA,MACzBC,GADyB,GACcD,UADd,CACzBC,GADyB;AAAA,MACpBC,IADoB,GACcF,UADd,CACpBE,IADoB;AAAA,MACdC,GADc,GACcH,UADd,CACdG,GADc;AAAA,MACTC,IADS,GACcJ,UADd,CACTI,IADS;AAAA,MACHC,KADG,GACcL,UADd,CACHK,KADG;AAAA,MACIC,KADJ,GACcN,UADd,CACIM,KADJ;AAEjC,sBACE,QAAC,MAAD;AAAA,2BACE,QAAC,SAAD;AAAW,MAAA,IAAI,EAAC,cAAhB;AAAA,8BACE,QAAC,OAAD;AAAA,+BACE,QAAC,SAAD;AAAW,UAAA,IAAI,EAAEJ,IAAjB;AAAuB,UAAA,KAAK,EAAEG,KAA9B;AAAqC,UAAA,IAAI,EAAED,IAA3C;AAAiD,UAAA,GAAG,EAAED;AAAtD;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,eADF,eAIE,QAAC,OAAD;AAAA,gCACE,QAAC,OAAD;AAAS,UAAA,EAAE,EAAC,IAAZ;AAAiB,UAAA,IAAI,EAAC,IAAtB;AAA2B,UAAA,aAAa,EAAC,WAAzC;AAAqD,UAAA,EAAE,EAAC,MAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF,eAIE,QAAC,KAAD;AAAO,UAAA,OAAO,EAAE,CAAhB;AAAA,oBACGG,KAAK,CAACC,GAAN,CAAU,UAACC,IAAD,EAAU;AAAA;;AAAA,gBAEjBP,GAFiB,GASfO,IATe,CAEjBP,GAFiB;AAAA,gBAGjBQ,WAHiB,GASfD,IATe,CAGjBC,WAHiB;AAAA,gBAIjBC,SAJiB,GASfF,IATe,CAIjBE,SAJiB;AAAA,gBAKjBC,KALiB,GASfH,IATe,CAKjBG,KALiB;AAAA,gBAMjBC,IANiB,GASfJ,IATe,CAMjBI,IANiB;AAAA,gBAOjBC,QAPiB,GASfL,IATe,CAOjBK,QAPiB;AAAA,gBAQXC,QARW,GASfN,IATe,CAQjBJ,IARiB;AAUnB,gBAAMW,UAAU,8BAAuBX,IAAvB,CAAhB;AACA,gBAAMY,YAAY,sBAAeH,QAAQ,CAACT,IAAxB,CAAlB;AACA,gBAAMa,QAAQ,GAAGD,YAAY,cAAOF,QAAP,CAA7B;AACA,gCACE,QAAC,GAAD;AAEE,cAAA,SAAS,EAAC,IAFZ;AAGE,cAAA,MAAM,EAAC,WAHT;AAIE,cAAA,WAAW,EAAC,SAJd;AAKE,cAAA,YAAY,EAAE,CALhB;AAAA,sCAOE,QAAC,KAAD;AAAO,gBAAA,SAAS,EAAC,KAAjB;AAAuB,gBAAA,CAAC,EAAC,MAAzB;AAAA,wCACE,QAAC,IAAD;AAAM,kBAAA,IAAI,EAAEC,UAAZ;AAAA,4BACGV,KAAK,iBACJ,QAAC,KAAD;AACE,oBAAA,OAAO,EAAE,EADX;AAEE,oBAAA,GAAG,EAAEA,KAAF,aAAEA,KAAF,uBAAEA,KAAK,CAAEa,GAFd;AAGE,oBAAA,SAAS,EAAC,OAHZ;AAIE,oBAAA,cAAc,EAAC,QAJjB;AAKE,oBAAA,OAAO,EAAEb,KAAF,aAAEA,KAAF,0CAAEA,KAAK,CAAEc,QAAT,oDAAE,gBAAiBC,IAL5B;AAME,oBAAA,MAAM,EAAC,OANT;AAOE,oBAAA,UAAU,EAAC,QAPb;AAQE,oBAAA,QAAQ,EAAC,WARX;AASE,oBAAA,YAAY,EAAC;AATf;AAAA;AAAA;AAAA;AAAA;AAFJ;AAAA;AAAA;AAAA;AAAA,yBADF,eAgBE;AAAK,kBAAA,SAAS,EAAC,mBAAf;AAAA,0CACE,QAAC,OAAD;AACE,oBAAA,EAAE,EAAC,IADL;AAEE,oBAAA,IAAI,EAAC,IAFP;AAGE,oBAAA,aAAa,EAAC,WAHhB;AAIE,oBAAA,aAAa,EAAE,CAJjB;AAAA,4CAME,QAAC,IAAD;AAAM,sBAAA,IAAI,EAAEL,UAAZ;AAAA,gCAAyBb;AAAzB;AAAA;AAAA;AAAA;AAAA,6BANF,SAM2C,GAN3C,eAOE,QAAC,IAAD;AAAM,sBAAA,IAAI,EAAEc,YAAZ;AAAA,iCAA2BH,QAAQ,CAACF,KAApC;AAAA;AAAA;AAAA;AAAA;AAAA,6BAPF,EAOqD,GAPrD;AAAA;AAAA;AAAA;AAAA;AAAA,2BADF,eAUE,QAAC,OAAD;AAAS,oBAAA,EAAE,EAAC,IAAZ;AAAiB,oBAAA,IAAI,EAAC,IAAtB;AAA2B,oBAAA,aAAa,EAAE,CAA1C;AAAA,8BACG,IAAIU,IAAJ,CAASZ,WAAT,EAAsBa,cAAtB,CAAqC,OAArC,EAA8C;AAC7CC,sBAAAA,KAAK,EAAE,MADsC;AAE7CC,sBAAAA,GAAG,EAAE,SAFwC;AAG7CC,sBAAAA,IAAI,EAAE;AAHuC,qBAA9C;AADH;AAAA;AAAA;AAAA;AAAA,2BAVF;AAAA;AAAA;AAAA;AAAA;AAAA,yBAhBF;AAAA;AAAA;AAAA;AAAA;AAAA,uBAPF,eA0CE,QAAC,IAAD;AAAM,gBAAA,IAAI,EAAER,QAAZ;AAAA,uCACE,QAAC,KAAD;AACE,kBAAA,GAAG,EAAEP,SAAF,aAAEA,SAAF,uBAAEA,SAAS,CAAEQ,GADlB;AAEE,kBAAA,OAAO,EAAE;AAAEQ,oBAAAA,QAAQ,EAAE,IAAZ;AAAkBC,oBAAAA,SAAS,EAAE;AAA7B;AAFX;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,uBA1CF,eAgDE;AAAK,gBAAA,SAAS,EAAC,cAAf;AAAA,wCACE;AAAK,kBAAA,SAAS,EAAC,SAAf;AAAA,0CACE;AAAI,oBAAA,SAAS,EAAC,mDAAd;AAAA,8BACGhB;AADH;AAAA;AAAA;AAAA;AAAA,2BADF,eAIE;AAAA,8BAAIb,WAAW,CAACc,IAAD,CAAX,CAAkBgB,KAAlB,CAAwB,CAAxB,EAA2B,GAA3B,IAAkC;AAAtC;AAAA;AAAA;AAAA;AAAA,2BAJF;AAAA;AAAA;AAAA;AAAA;AAAA,yBADF,eAOE,QAAC,IAAD;AAAM,kBAAA,IAAI,EAAEX,QAAZ;AAAsB,kBAAA,SAAS,EAAC,sBAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAPF;AAAA;AAAA;AAAA;AAAA;AAAA,uBAhDF;AAAA,eACOhB,GADP;AAAA;AAAA;AAAA;AAAA,qBADF;AA8DD,WA3EA;AADH;AAAA;AAAA;AAAA;AAAA,iBAJF;AAAA;AAAA;AAAA;AAAA;AAAA,eAJF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,WADF;AA4FD,CA9FD;;KAAMF,M;;AA6IN,eAAeA,MAAf","sourcesContent":["import {\n  Box,\n  Container,\n  Flex,\n  Grid,\n  Heading,\n  Image,\n  Stack,\n} from \"@chakra-ui/react\"\nimport AuthorBio from \"@components/AuthorBio\"\nimport Layout from \"@components/Layout\"\nimport Section from \"@components/Layout/Section\"\nimport Link from \"@components/Link\"\nimport { getClient } from \"@lib/sanity/sanity.server\"\nimport { groq } from \"next-sanity\"\nimport toPlainText from \"util/toPlainText\"\n\nconst Author = ({ authorData }) => {\n  const { _id, name, bio, slug, image, posts } = authorData\n  return (\n    <Layout>\n      <Container maxW=\"container.md\">\n        <Section>\n          <AuthorBio name={name} image={image} slug={slug} bio={bio} />\n        </Section>\n        <Section>\n          <Heading as=\"h2\" size=\"xl\" textTransform=\"uppercase\" pb=\"2rem\">\n            Latest Stories\n          </Heading>\n          <Stack spacing={8}>\n            {posts.map((post) => {\n              const {\n                _id,\n                publishedAt,\n                mainImage,\n                title,\n                body,\n                category,\n                slug: postSlug,\n              } = post\n              const authorLink = `/stories/authors/${slug}`\n              const categoryLink = `/stories/${category.slug}`\n              const postLink = categoryLink + `/${postSlug}`\n              return (\n                <Box\n                  key={_id}\n                  boxShadow=\"lg\"\n                  border=\"1px solid\"\n                  borderColor=\"gray.50\"\n                  borderRadius={4}\n                >\n                  <Stack direction=\"row\" p=\"1rem\">\n                    <Link href={authorLink}>\n                      {image && (\n                        <Image\n                          boxSize={50}\n                          src={image?.url}\n                          objectFit=\"cover\"\n                          objectPosition=\"center\"\n                          bgImage={image?.metadata?.lqip}\n                          bgSize=\"cover\"\n                          bgPosition=\"center\"\n                          bgRepeat=\"no-repeat\"\n                          borderRadius=\"full\"\n                        />\n                      )}\n                    </Link>\n                    <div className=\"card-header-title\">\n                      <Heading\n                        as=\"h3\"\n                        size=\"md\"\n                        textTransform=\"uppercase\"\n                        letterSpacing={0}\n                      >\n                        <Link href={authorLink}>{name}</Link> in{\" \"}\n                        <Link href={categoryLink}>{category.title} </Link>{\" \"}\n                      </Heading>\n                      <Heading as=\"h3\" size=\"md\" letterSpacing={0}>\n                        {new Date(publishedAt).toLocaleString(\"en-US\", {\n                          month: \"long\",\n                          day: \"numeric\",\n                          year: \"numeric\",\n                        })}\n                      </Heading>\n                    </div>\n                  </Stack>\n                  <Link href={postLink}>\n                    <Image\n                      src={mainImage?.url}\n                      options={{ maxWidth: 1600, maxHeight: 900 }}\n                    />\n                  </Link>\n                  <div className=\"card-content\">\n                    <div className=\"content\">\n                      <h2 className=\"title is-montserrat is-uppercase is-size-4-mobile\">\n                        {title}\n                      </h2>\n                      <p>{toPlainText(body).slice(0, 119) + \"...\"}</p>\n                    </div>\n                    <Link href={postLink} className=\"button is-montserrat\">\n                      Read &rsaquo;\n                    </Link>\n                  </div>\n                </Box>\n              )\n            })}\n          </Stack>\n        </Section>\n      </Container>\n    </Layout>\n  )\n}\n\nconst singleAuthorQuery = groq`\n  *[_type == \"author\" && slug.current == $slug]{\n    _id,\n    name,\n    bio,\n    \"slug\": slug.current,\n    \"image\": image.asset->{\n      metadata,\n      url\n    },\n    \"posts\": *[_type == \"post\" && references(^._id)]{\n      _id,\n      publishedAt,\n      title,\n      body,\n      \"slug\": slug.current,\n      \"mainImage\": mainImage.asset->{\n        metadata,\n        url\n      },\n      category->{\n        title,\n        \"slug\": slug.current\n      }\n    }\n  }[0]\n`\n\nexport const getStaticPaths = async () => {\n  const authors = await getClient().fetch(\n    groq`*[_type == \"author\"]{ \"slug\": slug.current }`\n  )\n  const paths = authors.map((author) => ({ params: { slug: author.slug } }))\n\n  return { paths, fallback: false }\n}\n\nexport const getStaticProps = async ({ params }) => {\n  const authorData = await getClient().fetch(singleAuthorQuery, {\n    slug: params.slug,\n  })\n\n  return { props: { authorData } }\n}\n\nexport default Author\n"]},"metadata":{},"sourceType":"module"}